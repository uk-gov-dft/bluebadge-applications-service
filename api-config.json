{
  "spec": {
    "swagger" : "2.0",
    "info" : {
      "description" : "Manage badge applications.\n",
      "version" : "1.0.0",
      "title" : "Applications Service"
    },
    "tags" : [ {
      "name" : "applications",
      "description" : "Application related operations"
    } ],
    "paths" : {
      "/applications/{applicationId}" : {
        "parameters" : [ {
          "in" : "path",
          "name" : "applicationId",
          "type" : "string",
          "required" : true
        } ],
        "delete" : {
          "description" : "Delete an application.",
          "tags" : [ "applications" ],
          "summary" : "Delete an application",
          "operationId" : "deleteApplication",
          "responses" : {
            "200" : {
              "description" : "Deleted."
            },
            "404" : {
              "description" : "Application did not exist.",
              "schema" : {
                "$ref" : "#/definitions/CommonResponse"
              }
            }
          }
        },
        "get" : {
          "description" : "Retrieve an application.",
          "tags" : [ "applications" ],
          "summary" : "Retrieve an application.",
          "operationId" : "retrieveApplication",
          "produces" : [ "application/json" ],
          "responses" : {
            "200" : {
              "description" : "ok.",
              "schema" : {
                "$ref" : "#/definitions/ApplicationResponse"
              }
            },
            "404" : {
              "description" : "Application did not exist"
            }
          }
        }
      },
      "/applications" : {
        "post" : {
          "tags" : [ "applications" ],
          "summary" : "Create an application.",
          "operationId" : "createApplication",
          "produces" : [ "application/json" ],
          "parameters" : [ {
            "in" : "body",
            "name" : "application",
            "schema" : {
              "$ref" : "#/definitions/Application"
            }
          } ],
          "responses" : {
            "200" : {
              "description" : "OK.  Response body contains new application id",
              "schema" : {
                "$ref" : "#/definitions/CreateApplicationResponse"
              }
            },
            "400" : {
              "description" : "Invalid request",
              "schema" : {
                "$ref" : "#/definitions/CommonResponse"
              }
            }
          }
        },
        "get" : {
          "description" : "Find applications.\nMust provide at least One query parameter.\n",
          "parameters" : [ {
            "in" : "query",
            "name" : "name",
            "type" : "string",
            "description" : "'Search by organisation or person name, results contain search param'\n"
          }, {
            "in" : "query",
            "name" : "postcode",
            "type" : "string",
            "description" : "'Returns results starting with the parameter.'\n"
          }, {
            "in" : "query",
            "name" : "from",
            "type" : "string",
            "format" : "date",
            "description" : "From submission date inclusive. YYYY-MM-DD"
          }, {
            "in" : "query",
            "name" : "to",
            "type" : "string",
            "format" : "date",
            "description" : "To submission date inclusive. YYYY-MM-DD"
          }, {
            "in" : "query",
            "name" : "applicationTypeCode",
            "type" : "string",
            "description" : "NEW, REPLACE, RENEW or CANCEL"
          } ],
          "tags" : [ "applications" ],
          "summary" : "Find applications.",
          "operationId" : "findApplications",
          "produces" : [ "application/json" ],
          "responses" : {
            "200" : {
              "description" : "Response with Zero, One or Many application summaries.\n",
              "schema" : {
                "$ref" : "#/definitions/ApplicationSummaryResponse"
              }
            }
          }
        }
      }
    },
    "definitions" : {
      "CommonResponse" : {
        "type" : "object",
        "properties" : {
          "apiVersion" : {
            "type" : "string"
          },
          "context" : {
            "type" : "string"
          },
          "id" : {
            "type" : "string"
          },
          "method" : {
            "type" : "string"
          },
          "error" : {
            "$ref" : "#/definitions/Error"
          }
        }
      },
      "Error" : {
        "type" : "object",
        "properties" : {
          "code" : {
            "type" : "integer"
          },
          "message" : {
            "type" : "string"
          },
          "errors" : {
            "type" : "array",
            "items" : {
              "type" : "object",
              "properties" : {
                "field" : {
                  "type" : "string"
                },
                "reason" : {
                  "type" : "string"
                },
                "message" : {
                  "type" : "string"
                },
                "location" : {
                  "type" : "string"
                },
                "locationType" : {
                  "type" : "string"
                }
              }
            }
          }
        }
      },
      "CreateApplicationResponse" : {
        "type" : "object",
        "allOf" : [ {
          "$ref" : "#/definitions/CommonResponse"
        }, {
          "type" : "object",
          "properties" : {
            "data" : {
              "type" : "string",
              "example" : "12341234-1234-1234-1234-123412341234"
            }
          }
        } ]
      },
      "ApplicationSummaryResponse" : {
        "type" : "object",
        "allOf" : [ {
          "$ref" : "#/definitions/CommonResponse"
        }, {
          "type" : "object",
          "properties" : {
            "data" : {
              "type" : "array",
              "items" : {
                "$ref" : "#/definitions/ApplicationSummary"
              }
            }
          }
        } ]
      },
      "ApplicationResponse" : {
        "type" : "object",
        "allOf" : [ {
          "$ref" : "#/definitions/CommonResponse"
        }, {
          "type" : "object",
          "properties" : {
            "data" : {
              "$ref" : "#/definitions/Application"
            }
          }
        } ]
      },
      "ApplicationSummary" : {
        "type" : "object",
        "properties" : {
          "applicationId" : {
            "type" : "string",
            "description" : "The unique badge number for this application - a UUID",
            "example" : "12345678-1234-1234-1234-123412341234"
          },
          "partyTypeCode" : {
            "type" : "string",
            "enum" : [ "PERSON", "ORG" ],
            "example" : "PERSON",
            "maxLength" : 10
          },
          "applicationTypeCode" : {
            "type" : "string",
            "description" : "NEW, CANCEL, RENEW, REPLACE",
            "example" : "NEW",
            "maxLength" : 10
          },
          "nino" : {
            "type" : "string",
            "description" : "The badgeholders national insurance number",
            "example" : "NS123458S"
          },
          "name" : {
            "type" : "string",
            "description" : "The name of the badge holder Organisation or Person",
            "example" : "John Smith",
            "maxLength" : 100
          },
          "submissionDate" : {
            "type" : "string",
            "format" : "date-time",
            "description" : "Submitted date and time",
            "example" : "2018-12-25T12:30:45Z"
          },
          "eligibilityCode" : {
            "type" : "string",
            "example" : "PIP",
            "maxLength" : 10
          }
        }
      },
      "Application" : {
        "type" : "object",
        "properties" : {
          "applicationId" : {
            "type" : "string",
            "description" : "The unique number for this application - a UUID",
            "example" : "12345678-1234-1234-1234-123456781234"
          },
          "applicationTypeCode" : {
            "type" : "string",
            "description" : "NEW, CANCEL, RENEW, REPLACE",
            "maxLength" : 10,
            "example" : "NEW"
          },
          "localAuthorityCode" : {
            "type" : "integer",
            "description" : "The code for the local authority.",
            "example" : 211
          },
          "isPaymentTaken" : {
            "type" : "boolean",
            "example" : true
          },
          "submissionDate" : {
            "type" : "string",
            "format" : "date-time",
            "description" : "Submitted date and time",
            "example" : "2018-12-25T12:30:45Z"
          },
          "existingBadgeNumber" : {
            "type" : "string"
          },
          "party" : {
            "$ref" : "#/definitions/Party"
          },
          "eligibility" : {
            "$ref" : "#/definitions/Eligibility"
          },
          "artifacts" : {
            "$ref" : "#/definitions/Artifacts"
          }
        },
        "required" : [ "applicationTypeCode", "isPaymentTaken", "localAuthorityCode" ]
      },
      "Party" : {
        "type" : "object",
        "properties" : {
          "typeCode" : {
            "type" : "string",
            "description" : "PERSON or ORG",
            "maxLength" : 10
          },
          "contact" : {
            "$ref" : "#/definitions/Contact"
          },
          "person" : {
            "$ref" : "#/definitions/Person"
          },
          "organisation" : {
            "$ref" : "#/definitions/Organisation"
          }
        },
        "required" : [ "typeCode" ]
      },
      "Person" : {
        "type" : "object",
        "properties" : {
          "badgeHolderName" : {
            "type" : "string",
            "example" : "John Smith",
            "maxLength" : 100
          },
          "nino" : {
            "type" : "string",
            "description" : "The badgeholders national insurance number",
            "example" : "NS123456A"
          },
          "dob" : {
            "type" : "string",
            "format" : "date",
            "description" : "Date of birth YYYY-MM-DD",
            "example" : "1970-05-29"
          },
          "nameAtBirth" : {
            "type" : "string",
            "example" : "John Smith",
            "maxLength" : 100
          },
          "genderCode" : {
            "type" : "string",
            "description" : "Reference data code MALE or FEMALE",
            "example" : "MALE",
            "maxLength" : 10
          }
        },
        "required" : [ "badgeHolderName" ]
      },
      "Organisation" : {
        "type" : "object",
        "properties" : {
          "badgeHolderName" : {
            "type" : "string",
            "example" : "Trotters Independant Traders",
            "maxLength" : 100
          },
          "isCharity" : {
            "type" : "boolean",
            "example" : false
          },
          "charityNumber" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "12345"
          },
          "vehicles" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/Vehicle"
            }
          },
          "numberOfBadges" : {
            "type" : "integer",
            "minimum" : 1,
            "description" : "Must be 1 for a person, can be multiple for an organisation.",
            "example" : 1
          }
        },
        "required" : [ "badgeHolderName", "isCharity", "numberOfBadges" ]
      },
      "Vehicle" : {
        "type" : "object",
        "properties" : {
          "registrationNumber" : {
            "type" : "string",
            "maxLength" : 7,
            "example" : "VK61VZZ"
          },
          "typeCode" : {
            "type" : "string",
            "maxLength" : 10,
            "example" : "TBC"
          },
          "usageFrequency" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Daily"
          }
        }
      },
      "Contact" : {
        "type" : "object",
        "properties" : {
          "fullName" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Mabel Jones"
          },
          "buildingStreet" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "65 Basil Chambers"
          },
          "line2" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Northern Quarter"
          },
          "townCity" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Manchester"
          },
          "postCode" : {
            "type" : "string",
            "example" : "SK6 8GH",
            "pattern" : "^[A-Za-z]{1,2}[0-9][0-9A-Za-z]?\\s?[0-9][A-Za-z]{2}$"
          },
          "primaryPhoneNumber" : {
            "type" : "string",
            "example" : "01234123123"
          },
          "secondaryPhoneNumber" : {
            "type" : "string",
            "example" : "07970777111"
          },
          "emailAddress" : {
            "type" : "string",
            "pattern" : ".+\\@.+",
            "example" : "nobody@blancmange.com"
          }
        },
        "required" : [ "buildingStreet", "townCity", "postCode" ]
      },
      "Eligibility" : {
        "type" : "object",
        "properties" : {
          "typeCode" : {
            "type" : "string",
            "description" : "Eligibility type"
          },
          "descriptionOfConditions" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Freetext"
          },
          "benefit" : {
            "$ref" : "#/definitions/Benefit"
          },
          "walkingDifficulty" : {
            "$ref" : "#/definitions/WalkingDifficulty"
          },
          "disabilityArms" : {
            "$ref" : "#/definitions/DisabilityArms"
          },
          "healthcareProfessionals" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/HealthcareProfessional"
            }
          },
          "blind" : {
            "$ref" : "#/definitions/Blind"
          },
          "childUnder3" : {
            "$ref" : "#/definitions/ChildUnder3"
          }
        },
        "required" : [ "typeCode" ]
      },
      "ChildUnder3" : {
        "type" : "object",
        "properties" : {
          "bulkyMedicalEquipmentTypeCode" : {
            "type" : "string",
            "maxLength" : 10
          }
        }
      },
      "Blind" : {
        "type" : "object",
        "properties" : {
          "registeredAtLaId" : {
            "type" : "string",
            "description" : "Local Authority registered blind at",
            "example" : 7
          }
        }
      },
      "Benefit" : {
        "type" : "object",
        "properties" : {
          "isIndefinite" : {
            "type" : "boolean",
            "example" : true
          },
          "expiryDate" : {
            "type" : "string",
            "format" : "date",
            "example" : "2022-03-30"
          }
        }
      },
      "HealthcareProfessional" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Freetext"
          },
          "location" : {
            "type" : "string",
            "maxLength" : 100,
            "example" : "Freetext"
          }
        }
      },
      "DisabilityArms" : {
        "type" : "object",
        "properties" : {
          "drivingFrequency" : {
            "type" : "string",
            "maxLength" : 100
          },
          "isAdaptedVehicle" : {
            "type" : "boolean",
            "example" : true
          },
          "adaptedVehicleDescription" : {
            "type" : "string",
            "maxLength" : 100
          }
        }
      },
      "WalkingDifficulty" : {
        "type" : "object",
        "properties" : {
          "typeCodes" : {
            "type" : "array",
            "description" : "'Short codes from the WALKDIFF group of data'\n",
            "items" : {
              "type" : "string",
              "maxLength" : 10,
              "example" : "BALANCE"
            }
          },
          "otherDescription" : {
            "type" : "string",
            "maxLength" : 100
          },
          "walkingAids" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/WalkingAid"
            }
          },
          "walkingLengthOfTimeCode" : {
            "type" : "string",
            "maxLength" : 10
          },
          "walkingSpeedCode" : {
            "type" : "string",
            "maxLength" : 10
          },
          "treatments" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/Treatment"
            }
          },
          "medications" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/Medication"
            }
          }
        }
      },
      "Medication" : {
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "maxLength" : 100
          },
          "isPrescribed" : {
            "type" : "boolean",
            "example" : true
          },
          "frequency" : {
            "type" : "string",
            "maxLength" : 100
          },
          "quantity" : {
            "type" : "string",
            "maxLength" : 100
          }
        }
      },
      "Treatment" : {
        "type" : "object",
        "properties" : {
          "description" : {
            "type" : "string",
            "maxLength" : 100
          },
          "time" : {
            "type" : "string",
            "maxLength" : 100
          }
        }
      },
      "WalkingAid" : {
        "type" : "object",
        "properties" : {
          "description" : {
            "type" : "string",
            "maxLength" : 100
          },
          "usage" : {
            "type" : "string",
            "maxLength" : 100
          },
          "howProvidedCode" : {
            "type" : "string",
            "maxLength" : 10
          }
        }
      },
      "Artifacts" : {
        "description" : "Provided files/evidence",
        "type" : "object",
        "properties" : {
          "proofOfEligibilityUrl" : {
            "type" : "string",
            "maxLength" : 255
          },
          "proofOfAddressUrl" : {
            "type" : "string",
            "maxLength" : 255
          },
          "proofOfIdentityUrl" : {
            "type" : "string",
            "maxLength" : 255
          },
          "badgePhotoUrl" : {
            "type" : "string",
            "maxLength" : 255,
            "description" : "A URL for the badge photo."
          },
          "proofOfEligibility" : {
            "type" : "string",
            "description" : "Base64 encoded."
          },
          "proofOfAddress" : {
            "type" : "string",
            "description" : "Base64 encoded."
          },
          "proofOfIdentity" : {
            "type" : "string",
            "description" : "Base64 encoded."
          },
          "badgePhoto" : {
            "type" : "string",
            "description" : "Base64 encoded. Must be between 50KB and 10MB, and of format JPG, PNG, or GIF."
          }
        }
      }
    },
    "host" : "virtserver.swaggerhub.com",
    "schemes" : [ "https" ],
    "basePath" : "/uk-gov-dft/applications-service/1.0.0"
  },
  "options": {
    "java8" : true,
    "sortParamsByRequiredFlag" : false,
    "modelPackage" : "uk.gov.dft.bluebadge.model.applicationmanagement.generated",
    "apiPackage" : "uk.gov.dft.bluebadge.service.applicationmanagement.generated.controller",
    "groupId" : "uk.gov.dft.bluebadge",
    "artifactId" : "badge-management-service",
    "artifactVersion" : "1.0.0-SNAPSHOT",
    "sourceFolder" : "generated/src/main/java",
    "dateLibrary" : "java8-localdatetime",
    "delegatePattern" : false,
    "title" : "process-sample",
    "configPackage" : "uk.gov.dft.bluebadge.service.applicationmanagement.generated.config.swagger",
    "basePackage" : "uk.gov.dft.bluebadge.dontneed.applicationmanagement.generated.application",
    "useBeanValidation" : true,
    "performBeanValidation" : true,
    "useOptional" : false,
    "useTags" : true,
    "hideGenerationTimestamp" : true,
    "appVersion" : "1.0"
  }
}